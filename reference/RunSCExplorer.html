<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>RunSCExplorer — RunSCExplorer • SCP</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="RunSCExplorer — RunSCExplorer"><meta name="description" content="RunSCExplorer"><meta property="og:description" content="RunSCExplorer"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SCP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/zhanghao-njmu/SCP"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>RunSCExplorer</h1>
      <small class="dont-index">Source: <a href="https://github.com/zhanghao-njmu/SCP/blob/main/R/SCP-app.R" class="external-link"><code>R/SCP-app.R</code></a></small>
      <div class="d-none name"><code>RunSCExplorer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>RunSCExplorer</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RunSCExplorer</span><span class="op">(</span></span>
<span>  base_dir <span class="op">=</span> <span class="st">"SCExplorer"</span>,</span>
<span>  DataFile <span class="op">=</span> <span class="st">"Data.hdf5"</span>,</span>
<span>  MetaFile <span class="op">=</span> <span class="st">"Meta.hdf5"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"SCExplorer"</span>,</span>
<span>  initial_dataset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_reduction <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_feature <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_assay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_slot <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_label <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  initial_cell_palette <span class="op">=</span> <span class="st">"Paired"</span>,</span>
<span>  initial_feature_palette <span class="op">=</span> <span class="st">"Spectral"</span>,</span>
<span>  initial_theme <span class="op">=</span> <span class="st">"theme_scp"</span>,</span>
<span>  initial_size <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  initial_ncol <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  initial_arrange <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_raster <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  session_workers <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  plotting_workers <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  create_script <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  style_script <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/r-lib/styler" class="external-link">"styler"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  return_app <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-base-dir">base_dir<a class="anchor" aria-label="anchor" href="#arg-base-dir"></a></dt>
<dd><p>A string. The base directory of the SCExplorer app. Default is "SCExplorer".</p></dd>


<dt id="arg-datafile">DataFile<a class="anchor" aria-label="anchor" href="#arg-datafile"></a></dt>
<dd><p>A string. The name of the HDF5 file that stores data matrices for each dataset. Default is "Data.hdf5".</p></dd>


<dt id="arg-metafile">MetaFile<a class="anchor" aria-label="anchor" href="#arg-metafile"></a></dt>
<dd><p>A string. The name of the HDF5 file that stores metadata for each dataset. Default is "Meta.hdf5".</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>A string. The title of the SCExplorer app. Default is "SCExplorer".</p></dd>


<dt id="arg-initial-dataset">initial_dataset<a class="anchor" aria-label="anchor" href="#arg-initial-dataset"></a></dt>
<dd><p>A string. The initial dataset to be loaded into the app. Default is NULL.</p></dd>


<dt id="arg-initial-reduction">initial_reduction<a class="anchor" aria-label="anchor" href="#arg-initial-reduction"></a></dt>
<dd><p>A string. The initial dimensional reduction method to be loaded into the app. Default is NULL.</p></dd>


<dt id="arg-initial-group">initial_group<a class="anchor" aria-label="anchor" href="#arg-initial-group"></a></dt>
<dd><p>A string. The initial variable to group cells in the app. Default is NULL.</p></dd>


<dt id="arg-initial-feature">initial_feature<a class="anchor" aria-label="anchor" href="#arg-initial-feature"></a></dt>
<dd><p>A string. The initial feature to be loaded into the app. Default is NULL.</p></dd>


<dt id="arg-initial-assay">initial_assay<a class="anchor" aria-label="anchor" href="#arg-initial-assay"></a></dt>
<dd><p>A string. The initial assay to be loaded into the app. Default is NULL.</p></dd>


<dt id="arg-initial-slot">initial_slot<a class="anchor" aria-label="anchor" href="#arg-initial-slot"></a></dt>
<dd><p>A string. The initial slot to be loaded into the app. Default is NULL.</p></dd>


<dt id="arg-initial-label">initial_label<a class="anchor" aria-label="anchor" href="#arg-initial-label"></a></dt>
<dd><p>A string. Whether to add labels in the initial plot. Default is FALSE.</p></dd>


<dt id="arg-initial-cell-palette">initial_cell_palette<a class="anchor" aria-label="anchor" href="#arg-initial-cell-palette"></a></dt>
<dd><p>A string. The initial color palette for cells. Default is "Paired".</p></dd>


<dt id="arg-initial-feature-palette">initial_feature_palette<a class="anchor" aria-label="anchor" href="#arg-initial-feature-palette"></a></dt>
<dd><p>A string. The initial color palette for features. Default is "Spectral".</p></dd>


<dt id="arg-initial-theme">initial_theme<a class="anchor" aria-label="anchor" href="#arg-initial-theme"></a></dt>
<dd><p>A string. The initial theme for plots. Default is "theme_scp".</p></dd>


<dt id="arg-initial-size">initial_size<a class="anchor" aria-label="anchor" href="#arg-initial-size"></a></dt>
<dd><p>A numeric. The initial size of plots. Default is 4.</p></dd>


<dt id="arg-initial-ncol">initial_ncol<a class="anchor" aria-label="anchor" href="#arg-initial-ncol"></a></dt>
<dd><p>A numeric. The initial number of columns for arranging plots. Default is 3.</p></dd>


<dt id="arg-initial-arrange">initial_arrange<a class="anchor" aria-label="anchor" href="#arg-initial-arrange"></a></dt>
<dd><p>A logical. Whether to use "Row" as the initial arrangement. Default is TRUE.</p></dd>


<dt id="arg-initial-raster">initial_raster<a class="anchor" aria-label="anchor" href="#arg-initial-raster"></a></dt>
<dd><p>A logical. Whether to perform rasterization in the initial plot. By default, it is set to automatic, meaning it will be TRUE if the number of cells in the initial datasets exceeds 100,000.</p></dd>


<dt id="arg-session-workers">session_workers<a class="anchor" aria-label="anchor" href="#arg-session-workers"></a></dt>
<dd><p>A numeric. The number of workers for concurrent execution in an asynchronous programming session. Default is 2.</p></dd>


<dt id="arg-plotting-workers">plotting_workers<a class="anchor" aria-label="anchor" href="#arg-plotting-workers"></a></dt>
<dd><p>A numeric. The number of threads per worker for parallel plotting. Default is 8.</p></dd>


<dt id="arg-create-script">create_script<a class="anchor" aria-label="anchor" href="#arg-create-script"></a></dt>
<dd><p>A logical. Whether to create the SCExplorer app script. Default is TRUE.</p></dd>


<dt id="arg-style-script">style_script<a class="anchor" aria-label="anchor" href="#arg-style-script"></a></dt>
<dd><p>A logical. Whether to style the SCExplorer app script. Default is TRUE.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>A logical. Whether to overwrite existing files. Default is FALSE.</p></dd>


<dt id="arg-return-app">return_app<a class="anchor" aria-label="anchor" href="#arg-return-app"></a></dt>
<dd><p>A logical. Whether to return the SCExplorer app. Default is TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="CreateDataFile.html">CreateDataFile</a></code> <code><a href="CreateMetaFile.html">CreateMetaFile</a></code> <code><a href="PrepareSCExplorer.html">PrepareSCExplorer</a></code> <code><a href="FetchH5.html">FetchH5</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"pancreas_sub"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pancreas_sub</span> <span class="op">&lt;-</span> <span class="fu"><a href="Standard_SCP.html">Standard_SCP</a></span><span class="op">(</span><span class="va">pancreas_sub</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"panc8_sub"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">panc8_sub</span> <span class="op">&lt;-</span> <span class="fu"><a href="Integration_SCP.html">Integration_SCP</a></span><span class="op">(</span>srtMerge <span class="op">=</span> <span class="va">panc8_sub</span>, batch <span class="op">=</span> <span class="st">"tech"</span>, integration_method <span class="op">=</span> <span class="st">"Seurat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="PrepareSCExplorer.html">PrepareSCExplorer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mouse_pancreas <span class="op">=</span> <span class="va">pancreas_sub</span>, human_pancreas <span class="op">=</span> <span class="va">panc8_sub</span><span class="op">)</span>, base_dir <span class="op">=</span> <span class="st">"./SCExplorer"</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create the app.R script</span></span></span>
<span class="r-in"><span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">RunSCExplorer</span><span class="op">(</span></span></span>
<span class="r-in"><span>  base_dir <span class="op">=</span> <span class="st">"./SCExplorer"</span>,</span></span>
<span class="r-in"><span>  initial_dataset <span class="op">=</span> <span class="st">"mouse_pancreas"</span>,</span></span>
<span class="r-in"><span>  initial_group <span class="op">=</span> <span class="st">"CellType"</span>,</span></span>
<span class="r-in"><span>  initial_feature <span class="op">=</span> <span class="st">"Neurog3"</span>,</span></span>
<span class="r-in"><span>  session_workers <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="st">"./SCExplorer"</span><span class="op">)</span> <span class="co"># This directory can be used as site directory for Shiny Server.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run shiny app</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="va">app</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># Note: If SCP installed in the isolated environment using renv, you need to add `renv::activate(project = "path/to/SCP_env")` to the app.R script.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################################################################################</span></span></span>
<span class="r-in"><span><span class="co"># You can deploy the app on the self-hosted shiny server(https://www.rstudio.com/products/shiny/shiny-server/).</span></span></span>
<span class="r-in"><span><span class="co"># Or deploy the app on the website(https://www.shinyapps.io) for free:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### step1: set the repository URL for Bioconductor packages and update them to the latest version</span></span></span>
<span class="r-in"><span><span class="co"># options(repos = BiocManager::repositories())</span></span></span>
<span class="r-in"><span><span class="co"># BiocManager::install(ask = FALSE)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### step2: install "rsconnect" package and authorize your account</span></span></span>
<span class="r-in"><span><span class="co"># install.packages("rsconnect")</span></span></span>
<span class="r-in"><span><span class="co"># library(rsconnect)</span></span></span>
<span class="r-in"><span><span class="co"># setAccountInfo(name = "&lt;NAME&gt;", token = "&lt;TOKEN&gt;", secret = "&lt;SECRET&gt;")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### step3: deploy the app</span></span></span>
<span class="r-in"><span><span class="co"># deployApp("./SCExplorer")</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hao Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

